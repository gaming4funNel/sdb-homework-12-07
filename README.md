# Домашнее задание к занятию «Репликация и масштабирование. Часть 2» - Иванов Игорь

### Задание 1

Опишите основные преимущества использования масштабирования методами:

- активный master-сервер и пассивный репликационный slave-сервер; 
- master-сервер и несколько slave-серверов;
- активный сервер со специальным механизмом репликации — distributed replicated block device (DRBD);
- SAN-кластер.

*Дайте ответ в свободной форме.*


1. Активный master-сервер и пассивный репликационный slave-сервер:

Высокая доступность: Мастер-сервер обеспечивает активное чтение и запись данных, а репликационные slave-серверы могут использоваться для балансировки нагрузки и отказоустойчивости.
Улучшенная производительность для чтения: При использовании репликационных серверов можно распределить нагрузку на чтение, что увеличивает производительность.
Резервное копирование: Репликационные серверы могут использоваться для резервного копирования без воздействия на мастер-сервер.

2. Master-сервер и несколько slave-серверов:

Высокая доступность и отказоустойчивость: Несколько репликационных slave-серверов обеспечивают увеличенную отказоустойчивость и улучшенную доступность.
Балансировка нагрузки: Распределение запросов между несколькими slave-серверами позволяет улучшить производительность и балансировать нагрузку.

3. Активный сервер с DRBD:

Синхронная репликация: DRBD обеспечивает синхронную репликацию данных между активным сервером и пассивным сервером, что гарантирует целостность данных.
Высокая доступность: DRBD может использоваться для обеспечения отказоустойчивости и быстрого восстановления в случае сбоев.

4. SAN-кластер:

Централизованное хранилище: SAN-кластер предоставляет централизованное хранилище, что делает его удобным для больших и сложных сред.
Увеличение производительности: SAN-кластеры могут предоставлять высокую производительность благодаря использованию высокоскоростных соединений и хранилища.

---

### Задание 2


Разработайте план для выполнения горизонтального и план для выполнения вертикального шардинга базы данных. База данных состоит из трёх таблиц: 

- пользователи, 
- книги, 
- магазины (столбцы произвольно). 

Опишите принципы построения системы и их разграничение или разбивку между базами данных.

*Пришлите блоксхему, где и что будет располагаться. Опишите, в каких режимах будут работать сервера.* 


Горизонтальный шардинг:

Создадим три базы данных (например, DB1, DB2 и DB3) для хранения данных.
Разделим данные горизонтально, распределяя строки каждой таблицы между базами данных. Например:
Пользователи с идентификаторами от 1 до 1000 хранятся в DB1.
Пользователи с идентификаторами от 1001 до 2000 хранятся в DB2.
Пользователи с идентификаторами от 2001 до 3000 хранятся в DB3.
То же самое сделаем для таблиц "книги" и "магазины".

![sql](https://github.com/gaming4funNel/sdb-homework-12-07/blob/main/img/horizontal.png)

Вертикальный шардинг:

Определим столбцы каждой таблицы, которые будут разделены между базами данных.
Например, в таблице "пользователи" столбцы "имя" и "адрес" могут храниться в DB1, а столбец "возраст" может храниться в DB2.
В таблице "книги" столбцы "название" и "автор" могут храниться в DB1, а столбец "жанр" может храниться в DB2.
В таблице "магазины" столбец "название" может храниться в DB1, а столбцы "адрес" и "товары" могут храниться в DB2.

![sql](https://github.com/gaming4funNel/sdb-homework-12-07/blob/main/img/vertical.png)

В обоих случаях каждый сервер будет работать в режиме распределенного хранения данных. Каждая база данных будет содержать только часть данных и будет обрабатывать только свою часть запросов. Это позволит масштабировать систему и увеличить пропускную способность.


## Дополнительные задания (со звёздочкой*)
Эти задания дополнительные, то есть не обязательные к выполнению, и никак не повлияют на получение вами зачёта по этому домашнему заданию. Вы можете их выполнить, если хотите глубже шире разобраться в материале.

---
### Задание 3*

Выполните настройку выбранных методов шардинга из задания 2.

*Пришлите конфиг Docker и SQL скрипт с командами для базы данных*.